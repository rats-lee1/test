name: Provision AI Resources
on:
  issues:
    types: [labeled]
jobs:
  provision:
    if: github.event.label.name == '승인됨' && contains(github.event.issue.labels.*.name, 'AI-POC')
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Azure Login
        uses: azure/login@v1
        with:
          creds: ${{ secrets.AZURE_CREDENTIALS }}
      - name: Setup Terraform
        uses: hashicorp/setup-terraform@v1
      - name: Extract Variables from Issue
        id: extract
        uses: actions/github-script@v4
        with:
          script: |
            // 이슈 본문에서 필요한 변수 추출 로직
      - name: Terraform Init
        run: terraform init
      - name: Terraform Apply
        run: terraform apply -auto-approve
      - name: Post Result Comment
        uses: actions/github-script@v4
        with:
          script: |
            // 결과를 이슈에 댓글로 게시
